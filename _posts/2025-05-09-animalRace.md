---
layout: single
title: "빙글빙글 동물 레이스 - 귀여운 쇼트트랙 게임 개발기"
categories: SideProject
tags: [Game, 동물레이스]
toc: true
toc_sticky: true
author_profile: true
---

# 📌 개요

이 글은 귀여운 동물들이 쇼트트랙 트랙에서 경쟁하는 **React 기반 동물 레이스 게임**을 직접 개발하며  
구현한 **게임 로직, 캐릭터 스킬, 애니메이션 처리** 등을 정리한 개발 가이드입니다.

- **플랫폼**: React (TypeScript)
- **렌더링 방식**: DOM 기반 + `framer-motion` + `MUI`
- **핵심 기능**: 트랙 내 움직임 계산, 바퀴 수 체크, 각 캐릭터 고유 스킬, 결과 집계

---

# 🎮 게임 소개

- **게임 이름**: 빙글빙글 동물 레이스
- **플레이 방식**: 동물 캐릭터를 선택하고 바퀴 수 설정 후, 경기를 시작하면 자동 진행
- **트랙**: 타원형 쇼트트랙 스타일
- **특징**:
  - 캐릭터별 스킬 존재 (예: 고양이 앞지르기, 강아지 먹이 부스터 등)
  - 실시간 순위 반영
  - 말풍선 효과, 빛나는 이펙트 등 애니메이션 처리
  - 레이스 종료 후 결과 모달 제공

---

# 📌 Game Link

- [animalRace URL](https://munkyu87.github.io/race)

---

# ⚙️ 주요 기술 스택

| 항목          | 설명                                             |
| ------------- | ------------------------------------------------ |
| React         | 프론트엔드 프레임워크                            |
| TypeScript    | 정적 타입 지원                                   |
| framer-motion | 캐릭터 이동 및 등장 애니메이션 처리              |
| MobX          | 게임 세팅, 캐릭터 상태 등 상태 관리              |
| MUI           | UI 구성요소 사용 (버튼, 슬라이더, 다이얼로그 등) |
| localStorage  | 참가자 및 바퀴 설정 저장                         |

---

# 📌 게임 구조 요약

## 1. 설정 화면

- 캐릭터 선택
- 바퀴 수 조절
- 캐릭터별 스킬 설정 가능 (쿨타임, 효과 수치)
- localStorage에 저장

  <img src="/assets/images/animalRaceSettingScreen.png" alt="settingScreen" width="100%">{: .align-center}

  <img src="/assets/images/animalRaceSkillSetting.png" alt="skillSettingScreen" width="100%">{: .align-center}

## 2. 레이스 화면

- 트랙 UI와 캐릭터 배치
- START 버튼 → 카운트다운 애니메이션 후 경기 시작
- 각 캐릭터는 `angle`, `lap` 기반으로 이동
- 모든 캐릭터가 완주 시 결과창 표시

  <img src="/assets/images/animalRaceRace.png" alt="raceScreen" width="100%">{: .align-center}

---

# 📌 캐릭터 및 스킬 목록

| 캐릭터    | 스킬 설명                                                       |
| --------- | --------------------------------------------------------------- |
| 🐱 고양이 | 앞지르기 (한 바퀴 돌고 일정 거리 차이 있을 때 위치 변경 + 가속) |
| 🐶 강아지 | 먹이를 먹으면 일정 시간 부스터                                  |
| 🐷 돼지   | 일정 주기마다 다른 캐릭터 잠시 기절                             |
| 🐴 말     | 주기적으로 속도 증가 (부스터)                                   |
| 🦊 여우   | 가장 앞 캐릭터를 잠깐 역주행                                    |
| 🐊 악어   | 다른 캐릭터 기절시키는 광역기                                   |

> 💡 각 스킬은 쿨타임 / 지속시간 / 효과 강도 조정 가능  
> (세팅 화면에서 실시간 조절 가능, MobX로 관리)

---

# 📌 주요 구현 포인트

## 1. 캐릭터 위치 계산

- `angle`(도 단위)와 `lap`(바퀴 수)로 캐릭터 진행 상태 추적
- `Math.cos` / `Math.sin`으로 트랙 내 위치 좌표 계산

## 2. 실시간 애니메이션

- `framer-motion` 사용으로 캐릭터 이동 부드럽게 처리
- 캐릭터 회전 각도 기반 `scaleX` 반전 → 왼쪽/오른쪽 전환

## 3. 스킬 시스템

- 각 스킬은 `useXXXSkill()` 훅으로 분리 관리
- `RefObject`를 통해 현재 상태 지속 추적 (`lap`, `angle`, `paused`, `bonus` 등)

---

# 📌 주요 화면 구성

## 1. 세팅 화면

- 캐릭터 선택 + 이름 입력
- 바퀴 수 슬라이더 조정
- 캐릭터별 스킬 옵션 커스터마이징

## 2. 레이스 화면

- START 버튼 → 3, 2, 1 → START! 카운트다운
- 중앙에 현재 바퀴 정보 표시 (`🏁 2바퀴째!`)
- 캐릭터 움직임, 효과 이펙트, GOAL 라인 강조

## 3. 결과창

- 모든 캐릭터 완주 시 순위 집계
- 모달 형태로 순위, 시간, 캐릭터 표시

---
